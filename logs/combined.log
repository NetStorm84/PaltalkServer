{"level":"info","message":"🚀 Starting Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:20:22.586Z"}
{"level":"info","message":"📊 Initializing database...","service":"paltalk-server","timestamp":"2025-06-12T08:20:22.588Z"}
{"level":"info","message":"Connected to SQLite database","path":"database.db","service":"paltalk-server","timestamp":"2025-06-12T08:20:22.591Z"}
{"level":"info","message":"✅ Database initialized","service":"paltalk-server","timestamp":"2025-06-12T08:20:22.592Z"}
{"level":"info","message":"📋 Loading initial data...","service":"paltalk-server","timestamp":"2025-06-12T08:20:22.592Z"}
{"level":"info","message":"✅ Loaded 29 categories","service":"paltalk-server","timestamp":"2025-06-12T08:20:22.593Z"}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Royal Oak ***","roomId":50001,"service":"paltalk-server","timestamp":"2025-06-12T08:20:22.594Z","userId":null}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The White Horse ***","roomId":50002,"service":"paltalk-server","timestamp":"2025-06-12T08:20:22.594Z","userId":null}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Tuck INN ***","roomId":50003,"service":"paltalk-server","timestamp":"2025-06-12T08:20:22.594Z","userId":null}
{"action":"room_created","category":30027,"isPermanent":true,"isVoice":0,"level":"info","message":"Room activity: room_created","name":"*** The Quiet Side ***","roomId":50004,"service":"paltalk-server","timestamp":"2025-06-12T08:20:22.595Z","userId":null}
{"level":"info","message":"✅ Loaded 4 permanent rooms","service":"paltalk-server","timestamp":"2025-06-12T08:20:22.595Z"}
{"level":"info","message":"Voice server started","port":2090,"service":"paltalk-server","timestamp":"2025-06-12T08:20:22.597Z"}
{"level":"info","message":"💬 Starting chat server...","service":"paltalk-server","timestamp":"2025-06-12T08:20:22.597Z"}
{"level":"info","message":"✅ Chat server listening on port 5001","service":"paltalk-server","timestamp":"2025-06-12T08:20:22.597Z"}
{"level":"info","message":"🌐 Starting web interface...","service":"paltalk-server","timestamp":"2025-06-12T08:20:22.597Z"}
{"level":"info","message":"Web interface started","port":3000,"service":"paltalk-server","timestamp":"2025-06-12T08:20:22.601Z","url":"http://localhost:3000"}
{"level":"info","message":"✅ Web interface started","service":"paltalk-server","timestamp":"2025-06-12T08:20:22.601Z"}
{"level":"info","message":"⏰ Starting periodic tasks...","service":"paltalk-server","timestamp":"2025-06-12T08:20:22.601Z"}
{"level":"info","message":"✅ Periodic tasks started","service":"paltalk-server","timestamp":"2025-06-12T08:20:22.601Z"}
{"level":"info","message":"✅ Paltalk Server started successfully","service":"paltalk-server","timestamp":"2025-06-12T08:20:22.601Z"}
{"level":"info","message":"📊 Web Dashboard: http://localhost:3000","service":"paltalk-server","timestamp":"2025-06-12T08:20:22.601Z"}
{"level":"info","message":"💬 Chat Server: Port 5001","service":"paltalk-server","timestamp":"2025-06-12T08:20:22.601Z"}
{"level":"info","message":"🎙️ Voice Server: Port 2090","service":"paltalk-server","timestamp":"2025-06-12T08:20:22.602Z"}
{"level":"info","message":"🛑 Received SIGTERM, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T08:20:25.179Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:20:25.179Z"}
{"level":"info","message":"Web interface stopped","service":"paltalk-server","timestamp":"2025-06-12T08:20:25.179Z"}
{"level":"info","message":"✅ Web interface stopped","service":"paltalk-server","timestamp":"2025-06-12T08:20:25.179Z"}
{"level":"info","message":"Voice server stopped","service":"paltalk-server","timestamp":"2025-06-12T08:20:25.180Z"}
{"level":"info","message":"✅ Voice server stopped","service":"paltalk-server","timestamp":"2025-06-12T08:20:25.180Z"}
{"level":"info","message":"✅ Chat server stopped","service":"paltalk-server","timestamp":"2025-06-12T08:20:25.180Z"}
{"level":"info","message":"🚀 Starting Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:20:53.342Z"}
{"level":"info","message":"📊 Initializing database...","service":"paltalk-server","timestamp":"2025-06-12T08:20:53.344Z"}
{"level":"info","message":"Connected to SQLite database","path":"database.db","service":"paltalk-server","timestamp":"2025-06-12T08:20:53.347Z"}
{"level":"info","message":"✅ Database initialized","service":"paltalk-server","timestamp":"2025-06-12T08:20:53.347Z"}
{"level":"info","message":"📋 Loading initial data...","service":"paltalk-server","timestamp":"2025-06-12T08:20:53.347Z"}
{"level":"info","message":"✅ Loaded 29 categories","service":"paltalk-server","timestamp":"2025-06-12T08:20:53.350Z"}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Royal Oak ***","roomId":50001,"service":"paltalk-server","timestamp":"2025-06-12T08:20:53.351Z","userId":null}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The White Horse ***","roomId":50002,"service":"paltalk-server","timestamp":"2025-06-12T08:20:53.351Z","userId":null}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Tuck INN ***","roomId":50003,"service":"paltalk-server","timestamp":"2025-06-12T08:20:53.351Z","userId":null}
{"action":"room_created","category":30027,"isPermanent":true,"isVoice":0,"level":"info","message":"Room activity: room_created","name":"*** The Quiet Side ***","roomId":50004,"service":"paltalk-server","timestamp":"2025-06-12T08:20:53.351Z","userId":null}
{"level":"info","message":"✅ Loaded 4 permanent rooms","service":"paltalk-server","timestamp":"2025-06-12T08:20:53.351Z"}
{"level":"info","message":"Voice server started","port":2090,"service":"paltalk-server","timestamp":"2025-06-12T08:20:53.353Z"}
{"level":"info","message":"💬 Starting chat server...","service":"paltalk-server","timestamp":"2025-06-12T08:20:53.353Z"}
{"level":"info","message":"✅ Chat server listening on port 5001","service":"paltalk-server","timestamp":"2025-06-12T08:20:53.354Z"}
{"level":"info","message":"🌐 Starting web interface...","service":"paltalk-server","timestamp":"2025-06-12T08:20:53.354Z"}
{"level":"info","message":"Web interface started","port":3000,"service":"paltalk-server","timestamp":"2025-06-12T08:20:53.356Z","url":"http://localhost:3000"}
{"level":"info","message":"✅ Web interface started","service":"paltalk-server","timestamp":"2025-06-12T08:20:53.356Z"}
{"level":"info","message":"⏰ Starting periodic tasks...","service":"paltalk-server","timestamp":"2025-06-12T08:20:53.356Z"}
{"level":"info","message":"✅ Periodic tasks started","service":"paltalk-server","timestamp":"2025-06-12T08:20:53.356Z"}
{"level":"info","message":"✅ Paltalk Server started successfully","service":"paltalk-server","timestamp":"2025-06-12T08:20:53.356Z"}
{"level":"info","message":"📊 Web Dashboard: http://localhost:3000","service":"paltalk-server","timestamp":"2025-06-12T08:20:53.356Z"}
{"level":"info","message":"💬 Chat Server: Port 5001","service":"paltalk-server","timestamp":"2025-06-12T08:20:53.356Z"}
{"level":"info","message":"🎙️ Voice Server: Port 2090","service":"paltalk-server","timestamp":"2025-06-12T08:20:53.356Z"}
{"connectionId":"chat_1749716463825_4eg2sckx5ft","level":"info","message":"New chat connection","remoteAddress":"::1","remotePort":51693,"service":"paltalk-server","timestamp":"2025-06-12T08:21:03.825Z"}
{"connectionId":"chat_1749716476662_1rpjni6l407","level":"info","message":"New chat connection","remoteAddress":"::1","remotePort":51760,"service":"paltalk-server","timestamp":"2025-06-12T08:21:16.662Z"}
{"connectionId":"chat_1749716493526_t2m51fm88z","level":"info","message":"New chat connection","remoteAddress":"::1","remotePort":51845,"service":"paltalk-server","timestamp":"2025-06-12T08:21:33.526Z"}
{"connectionId":"voice_1749716493527_yy91o10e2ll","level":"info","message":"Voice connection established","remoteAddress":"::1","remotePort":51846,"service":"paltalk-server","timestamp":"2025-06-12T08:21:33.527Z","totalConnections":1}
{"level":"info","message":"Web client connected","service":"paltalk-server","socketId":"pYDZItdPYJmn10PWAAAB","timestamp":"2025-06-12T08:21:37.693Z"}
{"level":"info","message":"🛑 Received SIGTERM, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T08:23:01.081Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:23:01.082Z"}
{"level":"info","message":"🚀 Starting Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:24:24.383Z"}
{"level":"info","message":"📊 Initializing database...","service":"paltalk-server","timestamp":"2025-06-12T08:24:24.385Z"}
{"level":"info","message":"Connected to SQLite database","path":"database.db","service":"paltalk-server","timestamp":"2025-06-12T08:24:24.386Z"}
{"level":"info","message":"✅ Database initialized","service":"paltalk-server","timestamp":"2025-06-12T08:24:24.386Z"}
{"level":"info","message":"📋 Loading initial data...","service":"paltalk-server","timestamp":"2025-06-12T08:24:24.386Z"}
{"level":"info","message":"✅ Loaded 29 categories","service":"paltalk-server","timestamp":"2025-06-12T08:24:24.387Z"}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Royal Oak ***","roomId":50001,"service":"paltalk-server","timestamp":"2025-06-12T08:24:24.388Z","userId":null}
{"level":"info","message":"🚀 Starting Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:25:01.814Z"}
{"level":"info","message":"📊 Initializing database...","service":"paltalk-server","timestamp":"2025-06-12T08:25:01.816Z"}
{"level":"info","message":"Connected to SQLite database","path":"database.db","service":"paltalk-server","timestamp":"2025-06-12T08:25:01.817Z"}
{"level":"info","message":"✅ Database initialized","service":"paltalk-server","timestamp":"2025-06-12T08:25:01.817Z"}
{"level":"info","message":"📋 Loading initial data...","service":"paltalk-server","timestamp":"2025-06-12T08:25:01.818Z"}
{"level":"info","message":"✅ Loaded 29 categories","service":"paltalk-server","timestamp":"2025-06-12T08:25:01.819Z"}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Royal Oak ***","roomId":50001,"service":"paltalk-server","timestamp":"2025-06-12T08:25:01.819Z","userId":null}
{"level":"info","message":"🛑 Received SIGTERM, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T08:25:44.111Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:25:44.112Z"}
{"level":"info","message":"🚀 Starting Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:26:28.914Z"}
{"level":"info","message":"📊 Initializing database...","service":"paltalk-server","timestamp":"2025-06-12T08:26:28.916Z"}
{"level":"info","message":"Connected to SQLite database","path":"database.db","service":"paltalk-server","timestamp":"2025-06-12T08:26:28.919Z"}
{"level":"info","message":"✅ Database initialized","service":"paltalk-server","timestamp":"2025-06-12T08:26:28.919Z"}
{"level":"info","message":"📋 Loading initial data...","service":"paltalk-server","timestamp":"2025-06-12T08:26:28.920Z"}
{"level":"info","message":"✅ Loaded 29 categories","service":"paltalk-server","timestamp":"2025-06-12T08:26:28.922Z"}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Royal Oak ***","roomId":50001,"service":"paltalk-server","timestamp":"2025-06-12T08:26:28.923Z","userId":null}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The White Horse ***","roomId":50002,"service":"paltalk-server","timestamp":"2025-06-12T08:26:28.923Z","userId":null}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Tuck INN ***","roomId":50003,"service":"paltalk-server","timestamp":"2025-06-12T08:26:28.924Z","userId":null}
{"action":"room_created","category":30027,"isPermanent":true,"isVoice":0,"level":"info","message":"Room activity: room_created","name":"*** The Quiet Side ***","roomId":50004,"service":"paltalk-server","timestamp":"2025-06-12T08:26:28.924Z","userId":null}
{"level":"info","message":"✅ Loaded 4 permanent rooms","service":"paltalk-server","timestamp":"2025-06-12T08:26:28.924Z"}
{"level":"info","message":"Voice server started","port":2090,"service":"paltalk-server","timestamp":"2025-06-12T08:26:28.926Z"}
{"level":"info","message":"💬 Starting chat server...","service":"paltalk-server","timestamp":"2025-06-12T08:26:28.926Z"}
{"level":"info","message":"✅ Chat server listening on port 5001","service":"paltalk-server","timestamp":"2025-06-12T08:26:28.926Z"}
{"level":"info","message":"🌐 Starting web interface...","service":"paltalk-server","timestamp":"2025-06-12T08:26:28.926Z"}
{"level":"info","message":"Web interface started","port":3000,"service":"paltalk-server","timestamp":"2025-06-12T08:26:28.929Z","url":"http://localhost:3000"}
{"level":"info","message":"✅ Web interface started","service":"paltalk-server","timestamp":"2025-06-12T08:26:28.929Z"}
{"level":"info","message":"⏰ Starting periodic tasks...","service":"paltalk-server","timestamp":"2025-06-12T08:26:28.929Z"}
{"level":"info","message":"✅ Periodic tasks started","service":"paltalk-server","timestamp":"2025-06-12T08:26:28.929Z"}
{"level":"info","message":"✅ Paltalk Server started successfully","service":"paltalk-server","timestamp":"2025-06-12T08:26:28.930Z"}
{"level":"info","message":"📊 Web Dashboard: http://localhost:3000","service":"paltalk-server","timestamp":"2025-06-12T08:26:28.930Z"}
{"level":"info","message":"💬 Chat Server: Port 5001","service":"paltalk-server","timestamp":"2025-06-12T08:26:28.930Z"}
{"level":"info","message":"🎙️ Voice Server: Port 2090","service":"paltalk-server","timestamp":"2025-06-12T08:26:28.931Z"}
{"level":"info","message":"Web client connected","service":"paltalk-server","socketId":"_nKR39Dg9f5IYKuxAAAB","timestamp":"2025-06-12T08:26:30.185Z"}
{"level":"info","message":"Web client connected","service":"paltalk-server","socketId":"dQxAX6avy0OJYAdUAAAD","timestamp":"2025-06-12T08:26:32.844Z"}
{"level":"info","message":"Admin broadcast sent Test","service":"paltalk-server","timestamp":"2025-06-12T08:26:43.755Z"}
{"level":"info","message":"Manual cleanup performed","service":"paltalk-server","timestamp":"2025-06-12T08:26:49.927Z"}
{"level":"info","message":"🛑 Received SIGINT, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T08:37:18.780Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:37:18.781Z"}
{"level":"info","message":"🛑 Received SIGINT, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T08:37:18.782Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:37:18.782Z"}
{"level":"info","message":"🛑 Received SIGINT, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T08:41:18.871Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:41:18.873Z"}
{"level":"info","message":"🛑 Received SIGINT, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T08:41:18.874Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:41:18.874Z"}
{"level":"info","message":"🛑 Received SIGINT, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T08:42:17.778Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:42:17.779Z"}
{"level":"info","message":"🛑 Received SIGINT, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T08:42:17.779Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:42:17.779Z"}
{"level":"info","message":"🛑 Received SIGINT, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T08:42:17.937Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:42:17.937Z"}
{"level":"info","message":"🛑 Received SIGINT, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T08:42:17.937Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:42:17.937Z"}
{"level":"info","message":"🛑 Received SIGINT, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T08:42:18.121Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:42:18.121Z"}
{"level":"info","message":"🛑 Received SIGINT, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T08:42:18.121Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:42:18.122Z"}
{"level":"info","message":"🚀 Starting Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:47:51.397Z"}
{"level":"info","message":"📊 Initializing database...","service":"paltalk-server","timestamp":"2025-06-12T08:47:51.399Z"}
{"level":"info","message":"Connected to SQLite database","path":"database.db","service":"paltalk-server","timestamp":"2025-06-12T08:47:51.402Z"}
{"level":"info","message":"✅ Database initialized","service":"paltalk-server","timestamp":"2025-06-12T08:47:51.402Z"}
{"level":"info","message":"📋 Loading initial data...","service":"paltalk-server","timestamp":"2025-06-12T08:47:51.402Z"}
{"level":"info","message":"✅ Loaded 29 categories","service":"paltalk-server","timestamp":"2025-06-12T08:47:51.405Z"}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Royal Oak ***","roomId":50001,"service":"paltalk-server","timestamp":"2025-06-12T08:47:51.406Z","userId":null}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The White Horse ***","roomId":50002,"service":"paltalk-server","timestamp":"2025-06-12T08:47:51.406Z","userId":null}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Tuck INN ***","roomId":50003,"service":"paltalk-server","timestamp":"2025-06-12T08:47:51.406Z","userId":null}
{"action":"room_created","category":30027,"isPermanent":true,"isVoice":0,"level":"info","message":"Room activity: room_created","name":"*** The Quiet Side ***","roomId":50004,"service":"paltalk-server","timestamp":"2025-06-12T08:47:51.406Z","userId":null}
{"level":"info","message":"✅ Loaded 4 permanent rooms","service":"paltalk-server","timestamp":"2025-06-12T08:47:51.407Z"}
{"level":"info","message":"Voice server started","port":2090,"service":"paltalk-server","timestamp":"2025-06-12T08:47:51.408Z"}
{"level":"info","message":"💬 Starting chat server...","service":"paltalk-server","timestamp":"2025-06-12T08:47:51.409Z"}
{"level":"info","message":"✅ Chat server listening on port 5001","service":"paltalk-server","timestamp":"2025-06-12T08:47:51.409Z"}
{"level":"info","message":"🌐 Starting web interface...","service":"paltalk-server","timestamp":"2025-06-12T08:47:51.409Z"}
{"level":"info","message":"Web interface started","port":3000,"service":"paltalk-server","timestamp":"2025-06-12T08:47:51.412Z","url":"http://localhost:3000"}
{"level":"info","message":"✅ Web interface started","service":"paltalk-server","timestamp":"2025-06-12T08:47:51.412Z"}
{"level":"info","message":"⏰ Starting periodic tasks...","service":"paltalk-server","timestamp":"2025-06-12T08:47:51.412Z"}
{"level":"info","message":"✅ Periodic tasks started","service":"paltalk-server","timestamp":"2025-06-12T08:47:51.412Z"}
{"level":"info","message":"✅ Paltalk Server started successfully","service":"paltalk-server","timestamp":"2025-06-12T08:47:51.412Z"}
{"level":"info","message":"📊 Web Dashboard: http://localhost:3000","service":"paltalk-server","timestamp":"2025-06-12T08:47:51.412Z"}
{"level":"info","message":"💬 Chat Server: Port 5001","service":"paltalk-server","timestamp":"2025-06-12T08:47:51.412Z"}
{"level":"info","message":"🎙️ Voice Server: Port 2090","service":"paltalk-server","timestamp":"2025-06-12T08:47:51.412Z"}
{"level":"info","message":"Web client connected","service":"paltalk-server","socketId":"_FHMQOiVKh1Ug_u6AAAB","timestamp":"2025-06-12T08:47:53.644Z"}
{"error":"this.serverState.getServerState is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getServerState is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Namespace.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:306:18)\n    at Namespace.emit (node:events:507:28)\n    at Namespace.emitReserved (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:47:53.645Z"}
{"connectionId":"chat_1749718076130_d4dnlfrdey","level":"info","message":"New chat connection","remoteAddress":"::1","remotePort":64214,"service":"paltalk-server","timestamp":"2025-06-12T08:47:56.130Z"}
{"connectionId":"voice_1749718076131_j8oyfbcawo","level":"info","message":"Voice connection established","remoteAddress":"::1","remotePort":64215,"service":"paltalk-server","timestamp":"2025-06-12T08:47:56.131Z","totalConnections":1}
{"level":"info","message":"🛑 Received SIGTERM, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T08:47:56.171Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:47:56.172Z"}
{"error":"this.serverState.getServerState is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getServerState is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:48:07.674Z"}
{"error":"this.serverState.getServerState is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getServerState is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:48:37.674Z"}
{"error":"this.serverState.getServerState is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getServerState is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:49:07.674Z"}
{"level":"info","message":"🚀 Starting Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:49:27.315Z"}
{"level":"info","message":"📊 Initializing database...","service":"paltalk-server","timestamp":"2025-06-12T08:49:27.318Z"}
{"level":"info","message":"Connected to SQLite database","path":"database.db","service":"paltalk-server","timestamp":"2025-06-12T08:49:27.319Z"}
{"level":"info","message":"✅ Database initialized","service":"paltalk-server","timestamp":"2025-06-12T08:49:27.319Z"}
{"level":"info","message":"📋 Loading initial data...","service":"paltalk-server","timestamp":"2025-06-12T08:49:27.319Z"}
{"level":"info","message":"✅ Loaded 29 categories","service":"paltalk-server","timestamp":"2025-06-12T08:49:27.321Z"}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Royal Oak ***","roomId":50001,"service":"paltalk-server","timestamp":"2025-06-12T08:49:27.321Z","userId":null}
{"connectionId":"chat_1749718170282_dci6h5uq6ud","level":"info","message":"New chat connection","remoteAddress":"::1","remotePort":64619,"service":"paltalk-server","timestamp":"2025-06-12T08:49:30.283Z"}
{"connectionId":"voice_1749718170283_gkxf9wr06sq","level":"info","message":"Voice connection established","remoteAddress":"::1","remotePort":64620,"service":"paltalk-server","timestamp":"2025-06-12T08:49:30.284Z","totalConnections":1}
{"level":"info","message":"🛑 Received SIGTERM, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T08:49:30.337Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:49:30.338Z"}
{"level":"info","message":"🚀 Starting Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:49:34.646Z"}
{"level":"info","message":"📊 Initializing database...","service":"paltalk-server","timestamp":"2025-06-12T08:49:34.648Z"}
{"level":"info","message":"Connected to SQLite database","path":"database.db","service":"paltalk-server","timestamp":"2025-06-12T08:49:34.649Z"}
{"level":"info","message":"✅ Database initialized","service":"paltalk-server","timestamp":"2025-06-12T08:49:34.649Z"}
{"level":"info","message":"📋 Loading initial data...","service":"paltalk-server","timestamp":"2025-06-12T08:49:34.649Z"}
{"level":"info","message":"✅ Loaded 29 categories","service":"paltalk-server","timestamp":"2025-06-12T08:49:34.650Z"}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Royal Oak ***","roomId":50001,"service":"paltalk-server","timestamp":"2025-06-12T08:49:34.651Z","userId":null}
{"error":"this.serverState.getServerState is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getServerState is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:49:37.677Z"}
{"error":"this.serverState.getServerState is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getServerState is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:50:07.674Z"}
{"error":"this.serverState.getServerState is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getServerState is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:50:37.676Z"}
{"error":"this.serverState.getServerState is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getServerState is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:51:07.688Z"}
{"error":"this.serverState.getServerState is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getServerState is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:51:37.678Z"}
{"error":"this.serverState.getServerState is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getServerState is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:52:07.676Z"}
{"level":"info","message":"🚀 Starting Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:52:08.184Z"}
{"level":"info","message":"📊 Initializing database...","service":"paltalk-server","timestamp":"2025-06-12T08:52:08.186Z"}
{"level":"info","message":"Connected to SQLite database","path":"database.db","service":"paltalk-server","timestamp":"2025-06-12T08:52:08.187Z"}
{"level":"info","message":"✅ Database initialized","service":"paltalk-server","timestamp":"2025-06-12T08:52:08.187Z"}
{"level":"info","message":"📋 Loading initial data...","service":"paltalk-server","timestamp":"2025-06-12T08:52:08.187Z"}
{"level":"info","message":"✅ Loaded 29 categories","service":"paltalk-server","timestamp":"2025-06-12T08:52:08.189Z"}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Royal Oak ***","roomId":50001,"service":"paltalk-server","timestamp":"2025-06-12T08:52:08.189Z","userId":null}
{"error":"this.serverState.getServerState is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getServerState is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:52:37.672Z"}
{"level":"info","message":"🚀 Starting Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:53:11.140Z"}
{"level":"info","message":"📊 Initializing database...","service":"paltalk-server","timestamp":"2025-06-12T08:53:11.142Z"}
{"level":"info","message":"Connected to SQLite database","path":"database.db","service":"paltalk-server","timestamp":"2025-06-12T08:53:11.144Z"}
{"level":"info","message":"✅ Database initialized","service":"paltalk-server","timestamp":"2025-06-12T08:53:11.144Z"}
{"level":"info","message":"📋 Loading initial data...","service":"paltalk-server","timestamp":"2025-06-12T08:53:11.145Z"}
{"level":"info","message":"✅ Loaded 29 categories","service":"paltalk-server","timestamp":"2025-06-12T08:53:11.147Z"}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Royal Oak ***","roomId":50001,"service":"paltalk-server","timestamp":"2025-06-12T08:53:11.148Z","userId":null}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The White Horse ***","roomId":50002,"service":"paltalk-server","timestamp":"2025-06-12T08:53:11.148Z","userId":null}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Tuck INN ***","roomId":50003,"service":"paltalk-server","timestamp":"2025-06-12T08:53:11.148Z","userId":null}
{"action":"room_created","category":30027,"isPermanent":true,"isVoice":0,"level":"info","message":"Room activity: room_created","name":"*** The Quiet Side ***","roomId":50004,"service":"paltalk-server","timestamp":"2025-06-12T08:53:11.149Z","userId":null}
{"level":"info","message":"✅ Loaded 4 permanent rooms","service":"paltalk-server","timestamp":"2025-06-12T08:53:11.149Z"}
{"level":"info","message":"Voice server started","port":2090,"service":"paltalk-server","timestamp":"2025-06-12T08:53:11.150Z"}
{"level":"info","message":"💬 Starting chat server...","service":"paltalk-server","timestamp":"2025-06-12T08:53:11.150Z"}
{"level":"info","message":"✅ Chat server listening on port 5001","service":"paltalk-server","timestamp":"2025-06-12T08:53:11.150Z"}
{"level":"info","message":"🌐 Starting web interface...","service":"paltalk-server","timestamp":"2025-06-12T08:53:11.150Z"}
{"level":"info","message":"Web interface started","port":3000,"service":"paltalk-server","timestamp":"2025-06-12T08:53:11.153Z","url":"http://localhost:3000"}
{"level":"info","message":"✅ Web interface started","service":"paltalk-server","timestamp":"2025-06-12T08:53:11.153Z"}
{"level":"info","message":"⏰ Starting periodic tasks...","service":"paltalk-server","timestamp":"2025-06-12T08:53:11.153Z"}
{"level":"info","message":"✅ Periodic tasks started","service":"paltalk-server","timestamp":"2025-06-12T08:53:11.153Z"}
{"level":"info","message":"✅ Paltalk Server started successfully","service":"paltalk-server","timestamp":"2025-06-12T08:53:11.153Z"}
{"level":"info","message":"📊 Web Dashboard: http://localhost:3000","service":"paltalk-server","timestamp":"2025-06-12T08:53:11.154Z"}
{"level":"info","message":"💬 Chat Server: Port 5001","service":"paltalk-server","timestamp":"2025-06-12T08:53:11.154Z"}
{"level":"info","message":"🎙️ Voice Server: Port 2090","service":"paltalk-server","timestamp":"2025-06-12T08:53:11.154Z"}
{"level":"info","message":"Web client connected","service":"paltalk-server","socketId":"MxgQnlJUd9O29XKbAAAB","timestamp":"2025-06-12T08:53:14.349Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Namespace.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:306:18)\n    at Namespace.emit (node:events:507:28)\n    at Namespace.emitReserved (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:53:14.350Z"}
{"level":"info","message":"Web client connected","service":"paltalk-server","socketId":"UCkYMrIK7geNFaXDAAAD","timestamp":"2025-06-12T08:53:34.199Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Namespace.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:306:18)\n    at Namespace.emit (node:events:507:28)\n    at Namespace.emitReserved (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:56:22)\n    at Namespace._doConnect (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/namespace.js:276:14)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/namespace.js:238:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:53:34.200Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:53:35.222Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:53:37.674Z"}
{"level":"info","message":"🛑 Received SIGINT, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T08:53:44.795Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:53:44.795Z"}
{"level":"info","message":"🛑 Received SIGINT, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T08:53:44.796Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T08:53:44.796Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:54:08.551Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:54:38.553Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:55:52.554Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:56:52.554Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:57:52.554Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:58:52.549Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T08:59:52.551Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T09:00:52.550Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T06:01:47.672Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T09:02:52.552Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T09:03:52.556Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T09:04:52.554Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T09:05:52.549Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T09:06:34.721Z"}
{"error":"this.serverState.getStats is not a function","level":"error","message":"Failed to send server state","service":"paltalk-server","stack":"TypeError: this.serverState.getStats is not a function\n    at WebInterface.sendServerState (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:339:44)\n    at Socket.<anonymous> (/Users/dan/Documents/Sites/serv/src/web/webInterface.js:313:22)\n    at Socket.emit (node:events:507:28)\n    at Socket.emitUntyped (/Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/typed-events.js:69:22)\n    at /Users/dan/Documents/Sites/serv/node_modules/socket.io/dist/socket.js:697:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-12T09:06:37.667Z"}
{"level":"info","message":"🛑 Received SIGINT, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T09:06:44.283Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T09:06:44.284Z"}
{"level":"info","message":"🛑 Received SIGINT, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T09:06:44.288Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T09:06:44.288Z"}
{"connectionId":"chat_1749719206657_j53iq58969b","level":"info","message":"New chat connection","remoteAddress":"::1","remotePort":53476,"service":"paltalk-server","timestamp":"2025-06-12T09:06:46.658Z"}
{"connectionId":"voice_1749719206658_qy0upxl2m98","level":"info","message":"Voice connection established","remoteAddress":"::1","remotePort":53477,"service":"paltalk-server","timestamp":"2025-06-12T09:06:46.658Z","totalConnections":1}
{"level":"info","message":"🚀 Starting Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T09:06:53.051Z"}
{"level":"info","message":"📊 Initializing database...","service":"paltalk-server","timestamp":"2025-06-12T09:06:53.053Z"}
{"level":"info","message":"Connected to SQLite database","path":"database.db","service":"paltalk-server","timestamp":"2025-06-12T09:06:53.057Z"}
{"level":"info","message":"✅ Database initialized","service":"paltalk-server","timestamp":"2025-06-12T09:06:53.057Z"}
{"level":"info","message":"📋 Loading initial data...","service":"paltalk-server","timestamp":"2025-06-12T09:06:53.057Z"}
{"level":"info","message":"✅ Loaded 29 categories","service":"paltalk-server","timestamp":"2025-06-12T09:06:53.060Z"}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Royal Oak ***","roomId":50001,"service":"paltalk-server","timestamp":"2025-06-12T09:06:53.061Z","userId":null}
{"level":"info","message":"🚀 Starting Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T09:07:54.569Z"}
{"level":"info","message":"📊 Initializing database...","service":"paltalk-server","timestamp":"2025-06-12T09:07:54.571Z"}
{"level":"info","message":"Connected to SQLite database","path":"database.db","service":"paltalk-server","timestamp":"2025-06-12T09:07:54.572Z"}
{"level":"info","message":"✅ Database initialized","service":"paltalk-server","timestamp":"2025-06-12T09:07:54.572Z"}
{"level":"info","message":"📋 Loading initial data...","service":"paltalk-server","timestamp":"2025-06-12T09:07:54.572Z"}
{"level":"info","message":"✅ Loaded 29 categories","service":"paltalk-server","timestamp":"2025-06-12T09:07:54.574Z"}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Royal Oak ***","roomId":50001,"service":"paltalk-server","timestamp":"2025-06-12T09:07:54.574Z","userId":null}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The White Horse ***","roomId":50002,"service":"paltalk-server","timestamp":"2025-06-12T09:07:54.574Z","userId":null}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Tuck INN ***","roomId":50003,"service":"paltalk-server","timestamp":"2025-06-12T09:07:54.574Z","userId":null}
{"action":"room_created","category":30027,"isPermanent":true,"isVoice":0,"level":"info","message":"Room activity: room_created","name":"*** The Quiet Side ***","roomId":50004,"service":"paltalk-server","timestamp":"2025-06-12T09:07:54.575Z","userId":null}
{"level":"info","message":"✅ Loaded 4 permanent rooms","service":"paltalk-server","timestamp":"2025-06-12T09:07:54.575Z"}
{"level":"info","message":"Voice server started","port":2090,"service":"paltalk-server","timestamp":"2025-06-12T09:07:54.576Z"}
{"level":"info","message":"💬 Starting chat server...","service":"paltalk-server","timestamp":"2025-06-12T09:07:54.576Z"}
{"level":"info","message":"✅ Chat server listening on port 5001","service":"paltalk-server","timestamp":"2025-06-12T09:07:54.576Z"}
{"level":"info","message":"🌐 Starting web interface...","service":"paltalk-server","timestamp":"2025-06-12T09:07:54.576Z"}
{"level":"info","message":"Web interface started","port":3000,"service":"paltalk-server","timestamp":"2025-06-12T09:07:54.579Z","url":"http://localhost:3000"}
{"level":"info","message":"✅ Web interface started","service":"paltalk-server","timestamp":"2025-06-12T09:07:54.579Z"}
{"level":"info","message":"⏰ Starting periodic tasks...","service":"paltalk-server","timestamp":"2025-06-12T09:07:54.579Z"}
{"level":"info","message":"✅ Periodic tasks started","service":"paltalk-server","timestamp":"2025-06-12T09:07:54.579Z"}
{"level":"info","message":"✅ Paltalk Server started successfully","service":"paltalk-server","timestamp":"2025-06-12T09:07:54.579Z"}
{"level":"info","message":"📊 Web Dashboard: http://localhost:3000","service":"paltalk-server","timestamp":"2025-06-12T09:07:54.579Z"}
{"level":"info","message":"💬 Chat Server: Port 5001","service":"paltalk-server","timestamp":"2025-06-12T09:07:54.579Z"}
{"level":"info","message":"🎙️ Voice Server: Port 2090","service":"paltalk-server","timestamp":"2025-06-12T09:07:54.579Z"}
{"level":"info","message":"Web client connected","service":"paltalk-server","socketId":"auK3rh7Mc_ZJdelrAAAB","timestamp":"2025-06-12T09:07:58.550Z"}
{"level":"info","message":"Web client connected","service":"paltalk-server","socketId":"vMbwtbz2qT3Cu6kHAAAD","timestamp":"2025-06-12T09:08:01.615Z"}
{"connectionId":"chat_1749719300025_e1vkw14ajv","level":"info","message":"New chat connection","remoteAddress":"::1","remotePort":53926,"service":"paltalk-server","timestamp":"2025-06-12T09:08:20.025Z"}
{"connectionId":"voice_1749719300026_h6wgbys9rq","level":"info","message":"Voice connection established","remoteAddress":"::1","remotePort":53927,"service":"paltalk-server","timestamp":"2025-06-12T09:08:20.026Z","totalConnections":1}
{"error":"serverState.cleanup is not a function","level":"error","message":"Error during maintenance","service":"paltalk-server","stack":"TypeError: serverState.cleanup is not a function\n    at PaltalkServer.performMaintenance (/Users/dan/Documents/Sites/serv/src/server.js:298:25)\n    at Timeout._onTimeout (/Users/dan/Documents/Sites/serv/src/server.js:279:18)\n    at listOnTimeout (node:internal/timers:611:17)\n    at process.processTimers (node:internal/timers:546:7)","timestamp":"2025-06-12T09:12:54.582Z"}
{"error":"serverState.cleanup is not a function","level":"error","message":"Error during maintenance","service":"paltalk-server","stack":"TypeError: serverState.cleanup is not a function\n    at PaltalkServer.performMaintenance (/Users/dan/Documents/Sites/serv/src/server.js:298:25)\n    at Timeout._onTimeout (/Users/dan/Documents/Sites/serv/src/server.js:279:18)\n    at listOnTimeout (node:internal/timers:611:17)\n    at process.processTimers (node:internal/timers:546:7)","timestamp":"2025-06-12T09:17:54.578Z"}
{"error":"serverState.cleanup is not a function","level":"error","message":"Error during maintenance","service":"paltalk-server","stack":"TypeError: serverState.cleanup is not a function\n    at PaltalkServer.performMaintenance (/Users/dan/Documents/Sites/serv/src/server.js:298:25)\n    at Timeout._onTimeout (/Users/dan/Documents/Sites/serv/src/server.js:279:18)\n    at listOnTimeout (node:internal/timers:611:17)\n    at process.processTimers (node:internal/timers:546:7)","timestamp":"2025-06-12T09:22:54.578Z"}
{"level":"info","message":"🛑 Received SIGTERM, shutting down gracefully...","service":"paltalk-server","timestamp":"2025-06-12T09:23:45.408Z"}
{"level":"info","message":"🛑 Stopping Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T09:23:45.408Z"}
{"level":"info","message":"🚀 Starting Paltalk Server...","service":"paltalk-server","timestamp":"2025-06-12T09:24:38.865Z"}
{"level":"info","message":"📊 Initializing database...","service":"paltalk-server","timestamp":"2025-06-12T09:24:38.867Z"}
{"level":"info","message":"Connected to SQLite database","path":"database.db","service":"paltalk-server","timestamp":"2025-06-12T09:24:38.868Z"}
{"level":"info","message":"✅ Database initialized","service":"paltalk-server","timestamp":"2025-06-12T09:24:38.869Z"}
{"level":"info","message":"📋 Loading initial data...","service":"paltalk-server","timestamp":"2025-06-12T09:24:38.869Z"}
{"level":"info","message":"✅ Loaded 29 categories","service":"paltalk-server","timestamp":"2025-06-12T09:24:38.870Z"}
{"action":"room_created","category":30018,"isPermanent":true,"isVoice":1,"level":"info","message":"Room activity: room_created","name":"*** The Royal Oak ***","roomId":50001,"service":"paltalk-server","timestamp":"2025-06-12T09:24:38.871Z","userId":null}
